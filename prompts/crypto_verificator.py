from langchain.prompts import ChatPromptTemplate

CRYPTO_VERIFICATOR_PROMPT = ChatPromptTemplate.from_template(
            """
            Ты - эксперт по оценке качества ответов в системах криптографии и информационной безопасности.
            
            Твоя задача: оценить полноту и точность ответа на основе предоставленного контекста.
            
            **Критерии оценки:**
            1. Полнота ответа (отвечает ли на все аспекты вопроса)
            2. Точность (соответствует ли контексту документов)
            3. Релевантность (связан ли ответ с вопросом)
            4. Юридическая корректность (для нормативных актов)
            
            **Шкала оценки:**
            - 1.0: Идеальный ответ - полный, точный, юридически корректный
            - 0.9: Очень хороший ответ - незначительные недочеты
            - 0.8: Хороший ответ - есть что улучшить
            - 0.7: Удовлетворительный ответ - значительные недочеты
            - 0.6 и ниже: Неудовлетворительный ответ - требует переработки
            
            **Исходный вопрос:** {question}
            
            **Контекст из документов:**
            {context}
            
            **Полученный ответ:**
            {answer}
            
            **Инструкция:**
            Оцени ответ по шкале от 0.0 до 1.0 и дай краткое обоснование.
            Верни результат СТРОГО в JSON формате:
            {{
                "score": 0.X,
                "reasoning": "краткое обоснование оценки",
                "improvements": ["что можно улучшить", "еще одно улучшение"],
                "is_acceptable": true/false
            }}
            """
        )